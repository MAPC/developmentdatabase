%br
.ui.horizontal.divider Commercial
%h3.ui.header
  Commercial Uses
  .sub.header
    Floor area by use type

- if @development.commercial_attributes.empty?
  = link_to edit_development_path(@development) do
    %button.ui.green.button
      Contribute information
    about business and commerce at this development.

- if @development.commercial_attributes.any?
  %table.ui.basic.selectable.celled.table
    %thead
      %th
        %h4.ui.header
          .content
            Use Type
      %th
        %h4.ui.header
          .content
            Floor Area
            .sub.header
              square feet
      %th
        %h4.ui.header
          .content
            Percent
            .sub.header
              of total floor area
    %tbody
      - if @development.commsf.to_i > 0
        - @development.commercial_attributes.each_pair do |field, value|
          = render partial: 'developments/show/row', locals: { field: field,
            value: value, conditional: true,
            extra: number_to_percentage(value/@development.commsf.to_i * 100,
              precision: 0) }

      = render partial: 'developments/show/row', locals: { field: :commsf,
          value: @development.commsf, conditional: false, unit: 'sqft',
          extra: '100%' }

  %table.ui.very.basic.selectable.celled.table
    %tbody
      = render partial: 'developments/show/row',
          locals: { field: :hotelrms, conditional: true,
            subheader: 'Number of rooms' }

  %h3.ui.header
    Employment

  %table.ui.very.basic.selectable.celled.table
    %tbody
      = render partial: 'developments/show/row', locals: { field: :employment,
          conditional: true, subheader: @development.employment_type }
      = render partial: 'developments/show/row', locals: { field: :emploss,
          conditional: true }
